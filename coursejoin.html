<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearningCourse</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
</head>
<body>
  <body>
    <section class="header">
        <nav>
            <a href="index.html"><img src="images/logo.png"></a>
            <div class="nav-links" id="navLinks">
                <i class="fa-solid fa-xmark" onclick="hideMenu()"></i>
                <ul>
                    <li><a href="index2.html">HOME</a></li>
                    <li><a href="about.html">ABOUT</a></li>
                    <li><a href="blog.html">BLOGS</a></li>
                    <li><a href="course.html">COURSE</a></li>
                    <li><a href="contact.html">CONTACT</a></li>
                </ul>
            </div>
        </nav>
        
    </section>
        

<!-- ---------------------------------RegForm----------------------- -->
    <div class="container ">
      <div class="form-box">
        <h1 id="title">Đăng ký tham gia lớp Teen</h1>
        <form action="">
          <div class="input-group">
            <div class="input-field">
              <input type="text" placeholder="Tên phụ huynh" id="name">
            </div>
            <div class="input-field">
              <input type="text" placeholder="Số điện thoại" id="number">
            </div>
            <div class="input-field">
              <input type="text" placeholder="Tỉnh thành sinh sống" id="city">
            </div>
            <div class="input-field">
              <input type="text" placeholder="Email" id="email">
            </div>
            <div class="reg-field" onclick="save()">
              <button class="reg" type="button" id="reg" name="reg" value="reg">Đăng Ký</button>
            </div>
            
            
          </div>
        </form>
      </div>
    </div>

    




    

  <!-- ---------------------------------    -->
  <style>
    .reg{
    width: 50%;
    flex-basis: 48%;
    background: red;
    color: #fff;
    height: 40px;
    border-radius: 20px;
    border: 0;
    outline: 0;
    cursor: pointer;
    transition: background 1s;
    margin-top: 20px;
}
  </style>
  
  <!-- --------------------------------- -->
    <script>
        var name = document.getElementById(name).value
        var number = document.getElementById(number).value
        var email = document.getElementById(email).value
        var location = document.getElementById(city).value
        var course = "teen"
    </script>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
      import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword  } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
  
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDvmklV_ReHz4Rt23OHzcyPG0S8pqEa9AI",
        authDomain: "loginlcmindx.firebaseapp.com",
        projectId: "loginlcmindx",
        storageBucket: "loginlcmindx.appspot.com",
        messagingSenderId: "48468828901",
        appId: "1:48468828901:web:f48ac4f028ad4fc0d0ea0c",
        measurementId: "G-YPYHZSVE7J"
      };
  
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      const auth = getAuth(app);
  

      reg.addEventListener('click',(e) => {
        var email = document.getElementById('email').value;
        var number = document.getElementById('number').value;
        var name = document.getElementById('name').value;
        var location = document.getElementById('city').value;

        createUserWithEmailAndInfo(name, email, number, location)
      .then((userCredential) => {
        // Signed up 
        const user = userCredential.user;

        set(ref(database, 'users/' + user.uid), {
            name: name,
            email: email,
            number: number,
            location: city,
            course: teen
        })
        alert('saved');
        // ...
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;

        alert(error);
        // ..
      });

      
    })


      
      
      
      
    </script>
  
  
  
  
  
  
  </body>
</html>